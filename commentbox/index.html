<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <title>Comment Box</title>
      <link rel="stylesheet" href="styles.css" />
    </head>
   <body>
      <h1>Comment Box</h1>
      <form id="myForm">
         Name : *<input type="text" id="userName" name="name">
         <br><br>
         Email :<input type="email" id="userEmail" name="email">
         <br>
         <p>Enter your comment below : *</p>
         <textarea id ="userComment" maxlength="140" rows="3" cols="50" name="comment" onkeyup="countCharsOne(this), countCharsTwo(this);"></textarea>
         <script>
            function countCharsOne(obj){
            const maxLength = 140;
            let strLength = obj.value.length;
               if(strLength >= maxLength){
                     document.getElementById("userComment").style.borderColor = "red";
               }
               else {
                     document.getElementById("userComment").style.borderColor = "transparent";
               }
            }
         </script>
         <p id="charNum">0 characters</p>
         <script>
         function countCharsTwo(obj){
            const maxLength = 140;
            let strLength = obj.value.length;
                  if(strLength >= maxLength){
                     document.getElementById("charNum").innerHTML = '<span style="color: red;">'+strLength+' out of '+maxLength+' characters</span>';
                  }
                  else{
                     document.getElementById("charNum").innerHTML = strLength+' out of '+maxLength+' characters';
                  }
         }
         function resetStringLength(obj) {
            const maxLength = 140;
            strLength = 0
            document.getElementById("charNum").innerHTML = strLength+' out of '+maxLength+' characters';
      }
               
         </script>
         <input type="button" class="button" onclick="myFunction(), resetStringLength()" value="Submit">
      </form>
      <h5>Submitted comments :</h5>
      <p id="data" class="data"></p>
      <script>
      let collatedData = []
         function myFunction(){
            let name = document.getElementById("userName").value
            let email = document.getElementById("userEmail").value
            let comment = document.getElementById("userComment").value
            if(comment.length > 0 && name.length > 0) {
            let data = "Name : "+name+"<br/>Email : "+email+ "<br/>Comment : "+comment+"<br/><br/>"
            collatedData.push(data)
            document.getElementById('myForm').reset()
            showComments(); }
            else {
               alert("Please enter a name and comment.")
            }
         }
         function showComments(){
            const [one = '', two = '', three = '', four = '', five = '', six = '', seven = '', eight = '', nine = '', ten = ''] = collatedData
            
            data = one+two+three+four+five+six+seven+eight+nine+ten
         
            document.getElementById("data").innerHTML = data
         }                 
     </script>
   </body>
</html>